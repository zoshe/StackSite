<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" >
<head>
<title>TestPg</title>
<meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8">
<SCRIPT LANGUAGE="javascript" type="text/javascript">
//alert("hello1");

var obj_arr = [
  { name: 'Joe',   age: 20 },
  { name: 'Joe',   age: 10 },
  { name: 'Joe',   age: 30 },
  { name: 'Joe',   age: 40 },
  { name: 'Joe',   age: 20 },
  { name: 'Joe',   age: 15 },
  { name: 'Joe',   age: 35 },
  { name: 'Joe',   age: 25 },
  { name: 'Bill',  age: 5 },
  { name: 'Barry', age: 20 },
  { name: 'Paul',  age: 20 },
  { name: 'Peter', age: 1 },
  { name: 'Smith', age: 25 },
  { name: 'Kary',  age: 30 },
];

bHash = [
["_MenuArrays","m",1],
["_About","z",3],
["_Borders","b",1],
["_BtnIcons","i",1],
["_Pages","w",1],
["_Pref","p",2],
["_Scripts","j",1],
["_Sites","s",1],
["_Snipits","n",1],
["_Templetes","t",1],
];

function buildCompareFunctionXX(arr) {
  if (arr && arr.length > 0) {
    return function(a,b) {
      var asub, bsub, prop;
      for (var i=0; i<arr.length; i++) {
        prop = arr[i];
        asub = a[prop];
        bsub = b[prop];
        if ( asub < bsub )
          return -1;
        if ( asub > bsub )
          return 1;
      }
      return 0;
    }
  } else {
    return function(a,b) { return a<=b; };
  }
}
/*

function buildCompareFunctionOk(arr) {
  if (arr && arr.length > 0) {
//alert(arr.toSource());
    return function(a,b) {
//alert( a.toSource() +" |||| " +b.toSource());
//alert(typeof a);
      var asub, bsub;
     for each(var prop in arr) {
 //    for(var i=0; i<arr.length; i++) {
//alert(i);
//alert(arr.length);
//alert(a[prop].toSource());
//alert(b.toSource());
//alert( a.toSource() +" |||| " +b.toSource());
//alert( a[prop].toSource() +" |||| " +b[prop].toSource());

//       prop = arr[i];
        asub = a[prop];
        bsub = b[prop];
//        asub = typeof prop == "string" && a[prop] || prop[a] ;
//        bsub = typeof prop == "string" && a[prop] || prop[b] ;
        if ( asub < bsub )
          return -1;
        if ( asub > bsub )
          return 1;
      }
      return 0;
    }
  } else {
    return function(a,b) { return a<=b; };
  }
}
*/
/* this works too
var obj_arr1 = [];
var obj_arr2 = [];
var filler = [ { age: 21, name: "Larry" },
               { age: 34, name: "Curly" },
               { age: 10, name: "Moe" } ];
for (var i=0; i<5000; i++) {
  rand = Math.floor( Math.random() * 3 );
  obj_arr1.push( filler[rand] );
  obj_arr2.push( filler[rand] );
}

var s = new Date();
obj_arr1.sort(function(a,b) { return a.name < b.name ? -1 : a.name > b.name ? 1 : 0; });
var e = new Date();
console.log(e.getTime()-s.getTime()); // => 75 ms
*/
/*
function sortArray(arr){
// sort array
// ie call can be names or number
if (arr && arr.length > 0){//if1
return function(a,b){//ftn1
for each(var prop in arr){//for1
if( a[prop] < b[prop] ){return -1;}
if( a[prop] > b[prop] ){return  1;}
}//for1
return 0;
}//ftn1
}//if1
else{
return function(a,b) { return a<=b; };
}
}
*/
/*
function test1XX(x){
//alert(bHash.length);
//alert(bHash[0]);
//bHash.sort( buildCompareFunction([2,0,2]));
//bHash.sort();
//bHash.sort();
//bHash[2].sort();
bHash.sort( sortArray([2,0,2]));
alert(bHash.toSource());
//obj_arr.sort( buildCompareFunction(['name','age']) );
//alert(obj_arr.toSource());

//alert(wui[0].path);
//var atts = x.attributes;
//var str = "";
///for (var i=0;i<atts.length;i++) {
//str += atts[i].name + " = " + atts[i].value+ "\n";
//}
//alert("onResizeFtn");
}
// ["b","i","j","m","n","p","s","t","w","z"]
*/
function sortJsArray4(arrA,attrs,obj){
//function sortBy(a,b){
//return ((a[attr] < b[attr]) ? -1 : ((a[attr] > b[attr]) ? 1 : 0));
//}

for(var i = 0; i<attrs.length;i++){
var attr = attrs[i];
/*
if(i+1<attrs.length){
alert(attrs[i+1]);
attr = attrs[i+1];
arrA.sort(function(a,b){return ((a[attr] < b[attr]) ? -1 : ((a[attr] > b[attr]) ? 1 : 0))});
attr = attrs[i];

}
*/
//arrA.sort(function(a,b) { return a[attr]<=b[attr]; });
arrA.sort(function(a,b){return (a[attr] < b[attr]) ? -1 : ((a[attr] > b[attr]) ? 1 : 0)});
}
//var attrB = arrB[i+1] || false;
return arrA;
}


function sortJsArray(arrA,arrB,obj){
// sort array
// ie call can be names or number
// Ftn attributes: 
//1. arr = should be an array in [] brackets.  Each value in this array
// should be in the order of importance of the array it is sorting.
// ie if arr = [1,0] Then the "1" repersents the second values of the array it's sorting,
// and 0 repersents the first value of the array it's sorting. Since the second values(1) come first
// it will sort the second values first, and the first values last.  The order can be changed around
// and there is no restriction on how many values in the array it is sorting, or which ones you wish to
// exclude. ie if u wish to sort and array with 4 values and want to sort the 4th values first and second last
// then arr = [3,1] 
//for(var i = 0; i<sortBy.length;i++){
//arr.sort(doSort);
//}

if(obj){
for(var sortByX in arrB){
sortByX = arrB[arrB];
//arr = arr;
//for each(var aa in arr){
sortJsArray.by = sortByX;
arrA.sort(sortJsArray).sort(sortJsArray);
arrA.sort(function(a,b) { return a[sortByX]<=b[sortByX]; });
//bHash.sort(function(a,b){ return a[2] < b[2] ? -1 :  a[2] > b[2] ?  1 : 0; });

//}
}
}
else{
//alert(arrA[sortJsArray.by]);
//return arrA[sortJsArray.by]<=arrB[sortJsArray.by];
return ((arrA[sortJsArray.by] < arrB[sortJsArray.by]) ? -1 : ((arrA[sortJsArray.by] > arrB[sortJsArray.by]) ? 1 : 0));
}

//arrA.sort(function(a,b) { return a[sortByX]<=b[sortByX]; });

//sortJsArray.by = sortByX;

//a[sortJsArray.by]<=b[sortJsArray.by];
/*
arr.sort(doSort);
*/
//function doSort(a,b){
/*

if (sortBy && sortBy.length > 0){//if1
return function(a,b){//ftn1
for each(var prop in sortBy){//for1
if( a[prop] < b[prop] ){return -1;}
if( a[prop] > b[prop] ){return  1;}
}//for1
return 0;
};//ftn1
}//if1
else{
return function(a,b) { return a<=b; }
}
//    var x = a.name();
//    var y = b.name();
//    var x = a[sortByFirstName.sortBy].toLowerCase();
//    var y = b[sortByFirstName.sortBy].toLowerCase();
*/
// x = x[sortByX];
// y = y[sortByX];
//if( x[sortByX] < y[sortByX] ){return -1;}
//if( x[sortByX] > y[sortByX] ){return  1;}
//return function(x,y) { return x<=y; }
//return ((a[sortByX] < b[sortByX]) ? -1 : ((a[sortByX] > b[sortByX]) ? 1 : 0));
//}

return arrA;
}

function sortArray(arr){
// sort array
// ie call can be names or number
// Ftn attributes: 
//1. arr = should be an array in [] brackets.  Each value in this array
// should be in the order of importance of the array it is sorting.
// ie if arr = [1,0] Then the "1" repersents the second values of the array it's sorting,
// and 0 repersents the first value of the array it's sorting. Since the second values(1) come first
// it will sort the second values first, and the first values last.  The order can be changed around
// and there is no restriction on how many values in the array it is sorting, or which ones you wish to
// exclude. ie if u wish to sort and array with 4 values and want to sort the 4th values first and second last
// then arr = [3,1] 
if (arr && arr.length > 0){//if1
return function(a,b){//ftn1
for (var prop in arr){//for1
prop = arr[prop];
if( a[prop] < b[prop] ){return -1;}
if( a[prop] > b[prop] ){return  1;}
}//for1
return 0;
};//ftn1
}//if1
else{
return function(a,b) { return a<=b; }
}
}

function test2(){
//bHash.sort(buildCompareFunctionXX([2,0,2])); sortJsArray4
//bHash = sortJsArray(bHash,[2,0,2],true);
bHash = sortJsArray4(bHash,[0,2],true);

//alert(log);

//bHash.sort(function(a,b){ return a[2] < b[2] ? -1 :  a[2] > b[2] ?  1 : 0; });
// bHash.sort(function(a,b){ return a[0] < b[0] ? -1 :  a[0] > b[0] ?  1 : 0; });
// bHash.sort(function(a,b){ return a[2] < b[2] ? -1 :  a[2] > b[2] ?  1 : 0; });
alert(bHash.toSource());
}


function helloWorld(x){
alert(x);
return "kFFF";
}

var lg = {
_test:"Test",


}
//var xm = <test a={["hello"].toSource()} b={"hello2"} c={[{ name: "Joe",   age: 20 },]} d={[<z />,4].toSource()} />;
//var xm2 = <test a={[lg._test].toSource()} b={helloWorld("hello2")} c={[{ name: lg._test,   age: 20 },].toSource()} d={["",4].toSource()} />;
var spl = "a|b||b1|c"
function test1000088(x){
// var URLLoader = new URLLoader(new URLRequest("http://partlyhuman.com/crossdomain.xml")); // NG
//var s = Components.utils.Sandbox("http://www.example.com/"); Components does not exist 
//alert(s);
//alert(DWfile.read(dw.getUserConfigurationPath()+"Floaters/testpg.xml"));
//var code = [DWfile.read(dw.getUserConfigurationPath()+"Floaters/testpg.xml").toString()];
var xm3 = eval(DWfile.read(dw.getUserConfigurationPath()+"Floaters/testpg.xml"));
//var xm3 = <x></x>;
//xm3.appendChild(eval(code[0]));
//var xm3 = new XML(<test a={1+1}/>);
//var xm3 = new XML("<x>"+DWfile.read(dw.getUserConfigurationPath()+"Floaters/testpg.xml").toSource()+"</x>");
//XML.ignoreProcessingInstructions = false;
//alert(XML.ignoreProcessingInstructions);
//var xm3 = new XML(DWfile.read(dw.getUserConfigurationPath()+"Floaters/testpg.xml"));
/////alert(xm3.z.@id);
//spl = spl.split("||");
//spl = spl.split("|");
//alert(spl.toSource());
//var ssr = obj_arr.toSource();
//alert(arr..item.length());
//alert(arr..item.toXMLString());
//alert(arr..item[2].name);
//alert(xm.toXMLString());
//alert(xm3.toSource());
//alert(xm3.toXMLString());
//alert(xm.@d.toSource());
//alert(obj_arr.toSource());
/*
var compileThisLib = <x id="a"><x id="_test"></x></x>;
// Step 2.  Set the lang
for each(var elm in compileThisLib..*){//for1
if(elm.hasOwnProperty("@hashVal")){//if1
continue;
}//if1
for each(var xAttrib in elm.attributes()){//forAX set each attribute on the element
//var xAttribNam = xAttrib.name()+"";
//alert(xAttrib.indexOf("|")== -1);
//alert(xAttrib.indexOf("_")== 0);
//alert(xAttrib.toString().length);
if(xAttrib.indexOf("_")== 0 && xAttrib.indexOf("|")== -1){//if2
//if(typeof xAttrib == "string" && xAttrib.indexOf("_")== 0 && xAttrib.indexOf("|")== -1 && xAttrib.length>1){//if2
//var getLang = bLang[lang][val];
//for each(var v in xAttrib){//forAX set each attribute on the element
//alert(v);
//}
elm.@[xAttrib.name()] = lg[xAttrib];
//alert(lg[xAttrib]);
//alert(xAttrib);
//xAttrib.valueOf( lg[xAttrib]);
}
}
}
//writeTestingPage(true,"langTest.text",compileThisLib.toXMLString());
alert(compileThisLib.toXMLString());
*/
}
function test1_0001(x){
var arrS = {
a:"",
};
//alert(typeof(arrS["b"]));
//if(1==1){alert("DDDD");}
//alert(typeof arrS["b"]);
("a" in arrS)? alert(typeof(arrS["a"])): alert("null"); //works
(["a"] in arrS)? alert(typeof(arrS["a"])): alert("null"); //works
//(typeof(arrS["a"]))? alert(typeof(arrS["a"])): alert("null");
//(typeof(arrS["a"]) == "string")? alert("gggg"): null;
//(1==1)? alert("DDDD") : null;
//(typeof(arrS["b"]))? alert("DDDD") : null;
//(typeof(arrS["a"]))? alert(arrS["a"]) : null;
//(arrS)? alert("hhh") : null;
//(arrS["a"])? alert(typeof(arrS["a"])) : null;
}
function test1_0002(x){
var a = [1,2,3];
var b = [1,2,4];
var c = {a:1};
var d = {a:1};
var e = [];
alert(c.constructor === d.constructor);//works
alert(c.toSource()==d.toSource());//works
//alert(a.toSource()==b.toSource());//works
//alert(a.constructor == b.constructor);//works
//alert(a.constructor === Array);//works
//var a = <x id="hhhh" id2="zzzz" />;
//var ee = ("id" in a.attributes());
//alert(ee);
//alert(a.attributes().name());
//var arrS = "['_middle']|[]";
}

var arr = <nodes>
<b id="2">
<name>first</name>
<item id="2">
<name>second</name>
</item>
</b>
<a id="1">
<name>third</name>
<item id="4">
<name>fourth</name>
</item>
</a>

</nodes>;

function test1(path,findTypes,firstFolderName,file){
//alert(arr.children());
//var zzza = new XMLList(arr.children());
//zzza.sort(sortByFirstName);
//alert(zzza);
var sortXmlArr = [];
//var sortXmlArr2 = arr.children().copy();
//sortXmlArr2.sort(sortByFirstName);

for each(var o in arr.children()){
//zzza.appendChild(o.copy());
sortXmlArr.push(o);
}
sortXmlArr.sort(sortByFirstName);
//sortXmlArr = sortXmlArr.join("");
arr = sortXmlArr.join("");
//var newArr = arr.copy().children().sort(sortByFirstName);
alert(arr.toSource());
//alert(arr.toSource());
//var c = parseInt("100000000000wui");
//c++;
//alert(c);
//var a = new Date().getTime();
//var b = new Date().getTime();
//alert(new Date().getTime());
//alert("a:"+a + "b:"+b);
//var grw = "";
//alert(typeof(grw));
//var ww = arr.item.(@=="kk");
//alert(ww);
// arguments :
// findTypes: (blank: is file and folders) (directorys: is folder only) (files: is files only)
// folderPath: it the starting folder's location in the file system
// firstFolderName: it's a option to add a name in front of the starting folder ie: site - (then the folderPath)



}

function sortByFirstName(a, b) {
    var x = a.@id;
    var y = b.@id;
//    var x = a.name();
//    var y = b.name();
//    var x = a[sortByFirstName.sortBy].toLowerCase();
//    var y = b[sortByFirstName.sortBy].toLowerCase();
    return ((x < y) ? -1 : ((x > y) ? 1 : 0));
}
//sortByFirstName.sortBy = "name";
//obj_arr2.sort(sortByFirstName);


</SCRIPT>
</head>
<body style="margin-top:0px; width:100%;height:100%" view="testpg" >
<div style="white-space:nowrap">
<INPUT type="button" id="wuireload" value="ReLoad" onClick="dreamweaver.reloadExtensions()" />
<INPUT type="button" id="wuitest1" value="test1" onClick="test1()" />
<INPUT type="button" id="wuitest2" value="test2" onClick="test2()" />
<br />

<!--
<select name="ParamList" style="width:515px;" type="mmparameterlist columns"="Name,SQL Data Type,Direction,Default Value,Run-time Value" size="6"></select>
-->
</div>
<!--
<h4>Example 1 (for HTML 5 browsers) X</h4>
<p>
 <label>
  Enter your favorite cartoon character:<br />
  <select name="favCharacter">
   <option value="AAAA">AAAA</option>
   <option value="BBBB" list="characters">BBBB</option>
   <option value="CCCC">CCCC</option>
</select>
  <datalist id="characters">
   <option value="Homer Simpson">
   <option value="Bart">
   <option value="Fred Flinstone">
  </datalist>
 </label><br />
</p>
<h4>Example 2 (for both legacy and HTML 5 browsers)</h4>
<p>
 <label>
  Enter your favorite cartoon character:<br />
  <input type="text" name="favCharacter" list="characters"><br />
 </label>
 <datalist id="characters">
  <label>
   or select one from the list:<br />
   <select name="favCharacter">
    <option>Homer Simpson
    <option>Bart
	<option>Fred Flinstone
   </select>
  </label>
 </datalist>
</p>
<p>
 <label for="unittype">Select unit type:</label>
 <select id="unittype" name="unittype">
  <option value="1"> Miner </option>
  <option value="2"> Puffer </option>
  <option value="3" selected> Snipey </option>
  <option value="4"> Max </option>
  <option value="5"> Firebot </option>
 </select>
</p>
Here, the user is offered a set of options from which he can select any number. By default, all five options are selected.

<p>
 <label for="allowedunits">Select unit types to enable on this map:</label>
 <select id="allowedunits" name="allowedunits" multiple>
  <option value="1" selected> Miner </option>
  <option value="2" selected> Puffer </option>
  <option value="3" selected> Snipey </option>
  <option value="4" selected> Max </option>
  <option value="5" selected> Firebot </option>
 </select>
</p>
<select>
  <optgroup label="Swedish Cars">
    <option value="volvo">Volvo</option>
    <option value="saab">Saab</option>
  </optgroup>
  <optgroup label="German Cars">
    <option value="mercedes">Mercedes</option>
    <option value="audi">Audi</option>
  </optgroup>
</select>
-->
</body>
</html>